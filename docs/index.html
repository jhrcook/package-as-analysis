<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Package as Analysis</title>
  <meta name="description" content="This is a manual for how to conduct data science analysis using the standard R package framework.">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Package as Analysis" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://jhrcook.github.io/package-as-analysis/" />
  <meta property="og:image" content="https://jhrcook.github.io/package-as-analysis/cover.png" />
  <meta property="og:description" content="This is a manual for how to conduct data science analysis using the standard R package framework." />
  <meta name="github-repo" content="jhrcook/package-as-analysis" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Package as Analysis" />
  <meta name="twitter:site" content="@JoshDoesa" />
  <meta name="twitter:description" content="This is a manual for how to conduct data science analysis using the standard R package framework." />
  <meta name="twitter:image" content="https://jhrcook.github.io/package-as-analysis/cover.png" />

<meta name="author" content="Joshua H. Cook">


<meta name="date" content="2019-04-27">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  

<link rel="next" href="framework.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Package as Analysis</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#why"><i class="fa fa-check"></i>Why</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#advantages"><i class="fa fa-check"></i>Advantages</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#examples"><i class="fa fa-check"></i>Examples</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about"><i class="fa fa-check"></i>About</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-this-book"><i class="fa fa-check"></i>About this Book</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-the-author"><i class="fa fa-check"></i>About the Author</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#resources"><i class="fa fa-check"></i>Resources</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#license"><i class="fa fa-check"></i>License</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="framework.html"><a href="framework.html"><i class="fa fa-check"></i><b>1</b> Framework</a><ul>
<li class="chapter" data-level="1.1" data-path="framework.html"><a href="framework.html#introduction"><i class="fa fa-check"></i><b>1.1</b> Introduction</a></li>
<li class="chapter" data-level="1.2" data-path="framework.html"><a href="framework.html#vignettes"><i class="fa fa-check"></i><b>1.2</b> Vignettes</a><ul>
<li class="chapter" data-level="1.2.1" data-path="framework.html"><a href="framework.html#starting-a-vignette"><i class="fa fa-check"></i><b>1.2.1</b> Starting a Vignette</a></li>
<li class="chapter" data-level="1.2.2" data-path="framework.html"><a href="framework.html#naming-system"><i class="fa fa-check"></i><b>1.2.2</b> Naming system</a></li>
<li class="chapter" data-level="1.2.3" data-path="framework.html"><a href="framework.html#formatting-a-vignette"><i class="fa fa-check"></i><b>1.2.3</b> Formatting a vignette</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="framework.html"><a href="framework.html#data-management-data-data-raw-and-instextdata"><i class="fa fa-check"></i><b>1.3</b> Data management: “data”, “data-raw”, and “inst/extdata”</a></li>
<li class="chapter" data-level="1.4" data-path="framework.html"><a href="framework.html#the-r-directory"><i class="fa fa-check"></i><b>1.4</b> The R/ Directory</a></li>
<li class="chapter" data-level="1.5" data-path="framework.html"><a href="framework.html#other-languages"><i class="fa fa-check"></i><b>1.5</b> Other Languages</a></li>
<li class="chapter" data-level="1.6" data-path="framework.html"><a href="framework.html#metadata"><i class="fa fa-check"></i><b>1.6</b> Metadata</a><ul>
<li class="chapter" data-level="1.6.1" data-path="framework.html"><a href="framework.html#description"><i class="fa fa-check"></i><b>1.6.1</b> DESCRIPTION</a></li>
<li class="chapter" data-level="1.6.2" data-path="framework.html"><a href="framework.html#namespace"><i class="fa fa-check"></i><b>1.6.2</b> NAMESPACE</a></li>
<li class="chapter" data-level="1.6.3" data-path="framework.html"><a href="framework.html#news.md"><i class="fa fa-check"></i><b>1.6.3</b> NEWS.md</a></li>
<li class="chapter" data-level="1.6.4" data-path="framework.html"><a href="framework.html#license-1"><i class="fa fa-check"></i><b>1.6.4</b> LICENSE</a></li>
<li class="chapter" data-level="1.6.5" data-path="framework.html"><a href="framework.html#readme"><i class="fa fa-check"></i><b>1.6.5</b> README</a></li>
<li class="chapter" data-level="1.6.6" data-path="framework.html"><a href="framework.html#rbuildignore"><i class="fa fa-check"></i><b>1.6.6</b> .Rbuildignore</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="framework.html"><a href="framework.html#testing"><i class="fa fa-check"></i><b>1.7</b> Testing</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-management.html"><a href="data-management.html"><i class="fa fa-check"></i><b>2</b> Data Management</a><ul>
<li class="chapter" data-level="2.1" data-path="data-management.html"><a href="data-management.html#the-data-raw-folder"><i class="fa fa-check"></i><b>2.1</b> The “data-raw” folder</a><ul>
<li class="chapter" data-level="2.1.1" data-path="data-management.html"><a href="data-management.html#when-to-use-it"><i class="fa fa-check"></i><b>2.1.1</b> When to use it</a></li>
<li class="chapter" data-level="2.1.2" data-path="data-management.html"><a href="data-management.html#example"><i class="fa fa-check"></i><b>2.1.2</b> Example</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>3</b> Getting Started</a><ul>
<li class="chapter" data-level="3.1" data-path="getting-started.html"><a href="getting-started.html#setting-up-a-r-package"><i class="fa fa-check"></i><b>3.1</b> Setting Up a R Package</a><ul>
<li class="chapter" data-level="3.1.1" data-path="getting-started.html"><a href="getting-started.html#the-basics"><i class="fa fa-check"></i><b>3.1.1</b> The Basics</a></li>
<li class="chapter" data-level="3.1.2" data-path="getting-started.html"><a href="getting-started.html#git-and-github"><i class="fa fa-check"></i><b>3.1.2</b> Git and GitHub</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="getting-started.html"><a href="getting-started.html#working-remotely"><i class="fa fa-check"></i><b>3.2</b> Working Remotely</a><ul>
<li class="chapter" data-level="3.2.1" data-path="getting-started.html"><a href="getting-started.html#sublimetext3-set-up"><i class="fa fa-check"></i><b>3.2.1</b> SublimeText3 Set-Up</a></li>
<li class="chapter" data-level="3.2.2" data-path="getting-started.html"><a href="getting-started.html#using-ssh-file-system"><i class="fa fa-check"></i><b>3.2.2</b> Using SSH File System</a></li>
<li class="chapter" data-level="3.2.3" data-path="getting-started.html"><a href="getting-started.html#git-and-github-1"><i class="fa fa-check"></i><b>3.2.3</b> Git and GitHub</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="getting-started.html"><a href="getting-started.html#extras"><i class="fa fa-check"></i><b>3.3</b> Extras</a><ul>
<li class="chapter" data-level="3.3.1" data-path="getting-started.html"><a href="getting-started.html#pkgdown"><i class="fa fa-check"></i><b>3.3.1</b> pkgdown</a></li>
<li class="chapter" data-level="3.3.2" data-path="getting-started.html"><a href="getting-started.html#travis-ci-appveyor-and-codecov"><i class="fa fa-check"></i><b>3.3.2</b> Travis-CI, Appveyor, and Codecov</a></li>
<li class="chapter" data-level="3.3.3" data-path="getting-started.html"><a href="getting-started.html#spelling"><i class="fa fa-check"></i><b>3.3.3</b> Spelling</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="getting-started.html"><a href="getting-started.html#conclusion"><i class="fa fa-check"></i><b>3.4</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="workflow.html"><a href="workflow.html"><i class="fa fa-check"></i><b>4</b> Workflow</a><ul>
<li class="chapter" data-level="4.1" data-path="workflow.html"><a href="workflow.html#analysis"><i class="fa fa-check"></i><b>4.1</b> Analysis</a></li>
<li class="chapter" data-level="4.2" data-path="workflow.html"><a href="workflow.html#build-and-check"><i class="fa fa-check"></i><b>4.2</b> Build and Check</a><ul>
<li class="chapter" data-level="4.2.1" data-path="workflow.html"><a href="workflow.html#document"><i class="fa fa-check"></i><b>4.2.1</b> Document</a></li>
<li class="chapter" data-level="4.2.2" data-path="workflow.html"><a href="workflow.html#test"><i class="fa fa-check"></i><b>4.2.2</b> Test</a></li>
<li class="chapter" data-level="4.2.3" data-path="workflow.html"><a href="workflow.html#build-and-install"><i class="fa fa-check"></i><b>4.2.3</b> Build and Install</a></li>
<li class="chapter" data-level="4.2.4" data-path="workflow.html"><a href="workflow.html#check"><i class="fa fa-check"></i><b>4.2.4</b> Check</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="example-allele-specific-kras-cna.html"><a href="example-allele-specific-kras-cna.html"><i class="fa fa-check"></i><b>5</b> Example: Allele-specific <em>KRAS</em> CNA</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
<li><a href="https://github.com/jhrcook/package-as-analysis" target="blank">Source</a><li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Package as Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="header">
<h1 class="title">Package as Analysis</h1>
<p class="author"><em>Joshua H. Cook</em></p>
<p class="date"><em>2019-04-27</em></p>
</div>
<div id="welcome" class="section level1 unnumbered">
<h1>Welcome</h1>
<p><img src="cover.png" width="250" height="366" align="right" alt="Cover image" /></p>
<p>This is a manual on how to use the standard R package framework for data analysis. Though potentially more work, especially at the start, the purpose of using the R package framework is to maintain a clear and reproducible analysis.</p>
<p><strong>[This book is currently in progress, though any <a href="https://github.com/jhrcook/package-as-analysis/issues">feedback</a> is welcome.]</strong></p>
<div id="why" class="section level3 unnumbered">
<h3>Why</h3>
<p>Why bother with maintaining a package framework while also doing data analysis? It is a great question, especially when one considers the complexity and fluidity of an analysis and the rigidity of the R package framework. The answer is that some rigidity is needed - but just the basics. That is what the R package framework provides. There is a place for everything, though sometimes getting it to work (ie. build and pass checks) requires a few extra steps.</p>
<p>During my own analyses, I found things were getting much too disorganized and decentralized. What would start out as exploratory would morph into a subdirectory graph more complex than the oringinal parent analysis. Perhaps for more organized people, this is unnecessary, but for those of us who want order and aren’t sure how to get it, this framework offers a great place to start.</p>
<p>The final (more abstract) reason for using the R package framework is to battle the current issue of reproducibility. Reproducibility is the cornerstone of science - if a finding it true, anyone should be able to replicate it. However, the scientific community has been dealing with an astounding amount of irreproducibility, most famously documented by the <a href="http://science.sciencemag.org/content/349/6251/aac4716">Open Science Collaboration</a>. If the analysis is organized as an R package, though, an analysis can be re-run entirely by anyone else familliar with R. Thus, whether they are collaborators and competitors, anyone should be able to follow the analysis a scientist publishes.</p>
</div>
<div id="advantages" class="section level3 unnumbered">
<h3>Advantages</h3>
<p>There are many advantages to using this framework. Here are just a few, though I am sure you will find there are many others:</p>
<ul>
<li>Because this is a standard framework, other will be able to navigate the directories and files adeptly.</li>
<li>The implementation of tests on functions and subroutines will make bugs easier to find and increase overall confidence in the validity of the analysis</li>
<li>This is a seamless mixture of scripts and markdown files for the separation of functions and analysis</li>
<li>Complete documentation of functions makes returning to code later much easier!</li>
<li>The analysis can take advantage of normal R package tools such as <a href="https://travis-ci.org">Travis-CI</a> and <a href="https://codecov.io">Codecov</a> integration, <a href="https://pkgdown.r-lib.org">pkgdown</a>, and <a href="https://devtools.r-lib.org">devtools</a> (build checks, documentation, etc.).</li>
</ul>
</div>
<div id="examples" class="section level3 unnumbered">
<h3>Examples</h3>
<p><a href="https://github.com/jhrcook/ExampleAnalysisPackage">ExampleAnalysisPackage</a> - This package was built alongside the writing of this book. It does not conduct an analysis, though may serve as a useful reference for the bare-bones framework.</p>
<p><a href="https://github.com/jhrcook/KrasAlleleCna"><em>KRAS</em> allele-specific copy number alteration</a> - I replicated an analysis I did for a paper (<a href="http://cancerdiscovery.aacrjournals.org/content/early/2019/04/05/2159-8290.CD-18-1220">Poulin <em>et al.</em>, 2019</a>) in the R package framework. This was where I really tested the idealoogy proposed in this book. It’s not perfect, but came out quite well.</p>
</div>
<div id="about" class="section level2 unnumbered">
<h2>About</h2>
<div id="about-this-book" class="section level3 unnumbered">
<h3>About this Book</h3>
<p>[TODO] Do at end</p>
</div>
<div id="about-the-author" class="section level3 unnumbered">
<h3>About the Author</h3>
<p>I am a classically-trained biologist-turned computational biologist. I graduated with degrees in Molecular Biology and Biochemistry, and Chemistry from the University of California, Irvine in 2017. My research focused on investigating the patterns and mechanisms of dissemination by which <em>Toxoplasma gondii</em>, an obligate, intracellular parasite, infects a human host <a href="https://www.ncbi.nlm.nih.gov/pubmed/29295815">Cook <em>et al.</em>, 2018</a>. I started my graduate studies at Harvard Medical School in 2018, and after rotating in a chemical biology lab and a <em>Vibrio cholerae</em> lab, I finally decided to study cancer using computational biology. Since then, and continuing still today, I have been learning computer programming and statistics, trying to catch up to my peers. Consequently, I have fallen in love with R, especially because of the <a href="https://www.tidyverse.org">Tyidyverse</a> and tidy data.</p>
</div>
</div>
<div id="resources" class="section level2 unnumbered">
<h2>Resources</h2>
<p>The best resource for making R packages is <a href="https://r-pkgs.org/index.html">R Packages</a> by Hadley Wickham.</p>
<p>There are some useful R packages you will want to have installed:</p>
<ul>
<li>‘devtools’ - will do most of the development building and checking</li>
<li>‘roxygen2’ - makes all of the documentation</li>
<li>‘usethis’ - preparing all of the pieces and tools you want to include</li>
<li>‘testthat’ - running tests</li>
<li>‘kintr’ - building all of the R markdown files</li>
<li>‘rmarkdown’ - integrate R code into markdown</li>
</ul>
<p>These can be installed using the following code.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="kw">c</span>(<span class="st">&quot;devtools&quot;</span>, <span class="st">&quot;roxygen2&quot;</span>, <span class="st">&quot;usethis&quot;</span>, <span class="st">&quot;testthat&quot;</span>,
                   <span class="st">&quot;knitr&quot;</span>, <span class="st">&quot;rmarkdown&quot;</span>))</code></pre>
</div>
<div id="license" class="section level2 unnumbered">
<h2>License</h2>
<p><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons Licence" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a></p>
<p>This work is under a <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Attribution-NonCommercial-ShareAlike 4.0 International License (CC BY-NC-SA 4.0)</a></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>

<a href="framework.html" class="navigation navigation-next navigation-unique" aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": [["Package as Analysis.pdf", "PDF"], ["Package as Analysis.epub", "EPUB"]],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
